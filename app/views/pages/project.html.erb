<div class="min-h-screen bg-coffee text-[#a8a29e] font-sans selection:bg-amber-500/30">
  <div class="max-w-6xl mx-auto px-6 ">
    
    <!-- Header -->
    <div class="mb-12" data-animate-target="fade-up">
      <div class="flex items-center gap-4 mb-4">
        <div class="w-1.5 h-8 bg-amber-500 rounded-full"></div>
        <h1 class="text-3xl md:text-4xl font-bold text-white tracking-tight"><%= t('projects.title') %></h1>
      </div>
      <p class="text-lg text-[#78716c] max-w-2xl"><%= t('projects.subtitle') %></p>
    </div>

    <!-- Projects Grid -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
      <% @projects.each_with_index do |project, index| %>
        <div class="bg-[#292524] rounded-2xl overflow-hidden border border-[#44403c] hover:border-amber-500/50 transition-all duration-300 hover:-translate-y-1 group flex flex-col h-full" data-animate-target="fade-up" style="animation-delay: <%= index * 100 %>ms;">
          
          <!-- Project Preview (Color Block or Thumbnail) -->
          <div class="<%= project[:color] %> h-48 flex items-center justify-center relative overflow-hidden">
            <% if project[:thumbnail] %>
              <img src="<%= image_path(project[:thumbnail]) %>" alt="<%= project[:title] %>" class="absolute inset-0 opacity-80 group-hover:opacity-100 transition-opacity duration-500">
              <div class="absolute inset-0 bg-black/40 group-hover:bg-black/20 transition-colors duration-500"></div>
            <% else %>
              <div class="absolute inset-0 bg-black/10"></div>
              <!-- Icon/Visual Fallback -->
              <div class="transform group-hover:scale-110 transition-transform duration-500">
                <% if project[:icon] == "layout-dashboard" %>
                  <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="text-white/80"><rect width="7" height="9" x="3" y="3" rx="1"/><rect width="7" height="5" x="14" y="3" rx="1"/><rect width="7" height="9" x="14" y="12" rx="1"/><rect width="7" height="5" x="3" y="16" rx="1"/></svg>
                <% elsif project[:icon] == "map-pin" %>
                  <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="text-white/80"><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></svg>
                <% elsif project[:icon] == "banknote" %>
                  <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="text-white/80"><rect width="20" height="12" x="2" y="6" rx="2"/><circle cx="12" cy="12" r="2"/><path d="M6 12h.01M18 12h.01"/></svg>
                <% elsif project[:icon] == "file-text" %>
                  <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="text-white/80"><path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"/><path d="M14 2v4a2 2 0 0 0 2 2h4"/><path d="M10 9H8"/><path d="M16 13H8"/><path d="M16 17H8"/></svg>
                <% elsif project[:icon] == "zap" %>
                  <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="text-white/80"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>
                <% elsif project[:icon] == "atom" %>
                  <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="text-white/80"><circle cx="12" cy="12" r="1"/><path d="M20.2 20.2c2.04-2.03.02-7.36-4.5-11.9-4.54-4.52-9.87-6.54-11.9-4.5-2.04 2.03-.02 7.36 4.5 11.9 4.54 4.52 9.87 6.54 11.9 4.5Z"/><path d="M15.7 15.7c4.52-4.54 6.54-9.87 4.5-11.9-2.03-2.04-7.36-.02-11.9 4.5-4.52 4.54-6.54 9.87-4.5 11.9 2.03 2.04 7.36.02 11.9-4.5Z"/></svg>
                <% elsif project[:icon] == "triangle" %>
                  <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="text-white/80"><path d="M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/></svg>
                <% else %>
                  <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="text-white/80"><polyline points="16 18 22 12 16 6"/><polyline points="8 6 2 12 8 18"/></svg>
                <% end %>
              </div>
            <% end %>
            
            <!-- Code Brackets Overlay -->
            <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity duration-300">
               <svg xmlns="http://www.w3.org/2000/svg" width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="text-white/20"><polyline points="16 18 22 12 16 6"/><polyline points="8 6 2 12 8 18"/></svg>
            </div>
          </div>

          <!-- Content -->
          <div class="p-8 flex-1 flex flex-col">
            <h3 class="text-2xl font-bold text-white mb-3 group-hover:text-amber-500 transition-colors"><%= project[:title] %></h3>
            <p class="text-[#a8a29e] mb-6 flex-1"><%= project[:description] %></p>

            <!-- Stack Tags -->
            <div class="flex flex-wrap gap-2 mb-8">
              <% project[:stack].each do |tech| %>
                <span class="bg-[#1c1917] text-[#a8a29e] text-xs font-mono px-3 py-1.5 rounded-lg border border-[#44403c]"><%= tech %></span>
              <% end %>
            </div>

            <!-- Link -->
            <a href="<%= project[:repo_url] %>" target="_blank" class="inline-flex items-center gap-2 text-amber-500 font-bold hover:text-amber-400 transition-colors group/link">
              <%= t('projects.view_project') %>
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-external-link"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" x2="21" y1="14" y2="3"/></svg>
            </a>
          </div>
        </div>
      <% end %>
    </div>
  </div>
</div>
