<%= form_with model: [:admin, blog_post], url: (blog_post.new_record? ? admin_blog_index_path : admin_blog_path(blog_post)), class: "space-y-6", data: { turbo: false } do |f| %>
  <% if blog_post.errors.any? %>
    <div class="bg-red-500/10 border border-red-500/20 rounded-lg p-4 mb-6">
      <h2 class="text-red-500 font-bold mb-2"><%= pluralize(blog_post.errors.count, "erro") %> impediram que este post fosse salvo:</h2>
      <ul class="list-disc list-inside text-red-400">
        <% blog_post.errors.full_messages.each do |msg| %>
          <li><%= msg %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
    <div class="space-y-2">
      <%= f.label :title, "Título", class: "block text-sm font-medium text-[#a8a29e]" %>
      <%= f.text_field :title, class: "w-full bg-[#1c1917] border border-[#292524] rounded-lg px-4 py-2.5 text-[#e7e5e4] focus:outline-none focus:border-amber-500 focus:ring-1 focus:ring-amber-500 transition-all placeholder-[#44403c]" %>
    </div>

    <div class="space-y-2">
      <%= f.label :category, "Categoria", class: "block text-sm font-medium text-[#a8a29e]" %>
      <%= f.text_field :category, class: "w-full bg-[#1c1917] border border-[#292524] rounded-lg px-4 py-2.5 text-[#e7e5e4] focus:outline-none focus:border-amber-500 focus:ring-1 focus:ring-amber-500 transition-all placeholder-[#44403c]" %>
    </div>
  </div>

  <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
    <div class="space-y-2">
      <%= f.label :reading_time, "Tempo de Leitura (min)", class: "block text-sm font-medium text-[#a8a29e]" %>
      <%= f.number_field :reading_time, class: "w-full bg-[#1c1917] border border-[#292524] rounded-lg px-4 py-2.5 text-[#e7e5e4] focus:outline-none focus:border-amber-500 focus:ring-1 focus:ring-amber-500 transition-all placeholder-[#44403c]", disabled: true, placeholder: "Calculado automaticamente" %>
    </div>

    <div class="space-y-2">
      <%= f.label :date, "Data", class: "block text-sm font-medium text-[#a8a29e]" %>
      <%= f.date_field :date, value: blog_post.date || Date.today, class: "w-full bg-[#1c1917] border border-[#292524] rounded-lg px-4 py-2.5 text-[#e7e5e4] focus:outline-none focus:border-amber-500 focus:ring-1 focus:ring-amber-500 transition-all placeholder-[#44403c]" %>
    </div>
  </div>

  <div class="space-y-2">
    <%= f.label :summary, "Resumo (Excerpt)", class: "block text-sm font-medium text-[#a8a29e]" %>
    <%= f.text_area :summary, rows: 3, class: "w-full bg-[#1c1917] border border-[#292524] rounded-lg px-4 py-2.5 text-[#e7e5e4] focus:outline-none focus:border-amber-500 focus:ring-1 focus:ring-amber-500 transition-all placeholder-[#44403c] resize-none" %>
  </div>

  <div class="space-y-2">
    <%= f.label :body, "Conteúdo Completo (Artigo)", class: "block text-sm font-medium text-[#a8a29e]" %>
    <%= f.text_area :body, rows: 12, class: "w-full bg-[#1c1917] border border-[#292524] rounded-lg px-4 py-2.5 text-[#e7e5e4] focus:outline-none focus:border-amber-500 focus:ring-1 focus:ring-amber-500 transition-all placeholder-[#44403c] resize-none font-mono text-sm" %>
  </div>

  <div class="flex items-center gap-4 pt-4 border-t border-[#292524] mt-8">
    <%= f.submit "Salvar Post", class: "flex-1 bg-amber-500 hover:bg-amber-600 text-[#1c1917] font-bold py-3 px-6 rounded-lg transition-colors cursor-pointer flex items-center justify-center gap-2" %>
    
    <%= link_to "Cancelar", admin_blog_index_path, class: "px-6 py-3 bg-[#292524] hover:bg-[#44403c] text-[#e7e5e4] font-medium rounded-lg transition-colors" %>
  </div>
<% end %>
